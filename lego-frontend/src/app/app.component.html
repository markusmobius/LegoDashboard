<main class="main">
  <div class="app-container">
    <nav class="top-nav">
      <div class="nav-actions">
        <button class="add-panel-btn" (click)="addPanel()" [disabled]="panels().length >= 2" mat-button>
          <mat-icon>add</mat-icon>
          Add Column
        </button>
      </div>
    </nav>

    <div class="dashboard-container" [class.split-screen]="isSplitScreen()">
      <div 
        class="panel" 
        *ngFor="let panel of panels(); let i = index" 
        [class.left-panel]="isSplitScreen() && i === 0"
        [class.right-panel]="isSplitScreen() && i === 1">
        
        <div class="panel-header">
          <button 
            class="close-panel-btn" 
            (click)="removePanel(panel.id)" 
            [disabled]="panels().length === 1"
            mat-icon-button>
            <mat-icon>close</mat-icon>
          </button>
        </div>

        <div class="panel-content">
          <div class="date-picker-container">
            <mat-form-field appearance="outline">
              <mat-label>Select Date</mat-label>
              <input 
                matInput 
                [matDatepicker]="picker" 
                [value]="panel.selectedDate"
                (dateChange)="onDateChange(panel.id, $event.value)">
              <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
          </div>
          
          <!-- Placeholder for future dashboard content -->
          <div class="dashboard-placeholder">
            <p>TODO: Actions on date: {{ panel.selectedDate | date:'mediumDate' }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>